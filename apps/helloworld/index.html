



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://brainlife.github.io/docs/apps/helloworld/">
      
      
        <meta name="author" content="Soichi Hayashi">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="/img/favicon.ico">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.0.4">
    
    
      
        <title>HelloWorld - Brainlife Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.451f80e5.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.22915126.css">
      
      
        
        
        <meta name="theme-color" content="#03a9f4">
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="light-blue" data-md-color-accent="">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="../../#helloworld" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://brainlife.github.io/docs/" title="Brainlife Documentation" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Brainlife Documentation
              </span>
              <span class="md-header-nav__topic">
                HelloWorld
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/brainlife/docs/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      brainlife/docs
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://brainlife.github.io/docs/" title="Brainlife Documentation" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Brainlife Documentation
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/brainlife/docs/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      brainlife/docs
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Web UI
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Web UI
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../user/tutorial/" title="Tutorial" class="md-nav__link">
      Tutorial
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user/project/" title="Projects" class="md-nav__link">
      Projects
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user/datatypes/" title="Datatypes" class="md-nav__link">
      Datatypes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user/process/" title="Processes" class="md-nav__link">
      Processes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user/pipeline/" title="Pipelines" class="md-nav__link">
      Pipelines
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user/publication/" title="Publications" class="md-nav__link">
      Publications
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Developing Apps
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Developing Apps
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../introduction/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        HelloWorld
      </label>
    
    <a href="./" title="HelloWorld" class="md-nav__link md-nav__link--active">
      HelloWorld
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#main" title="main" class="md-nav__link">
    main
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configjson" title="config.json" class="md-nav__link">
    config.json
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#apppy" title="app.py" class="md-nav__link">
    app.py
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gitignore" title=".gitignore" class="md-nav__link">
    .gitignore
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing" title="Testing" class="md-nav__link">
    Testing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pushing-to-github" title="Pushing to Github" class="md-nav__link">
    Pushing to Github
  </a>
  
</li>
      
      
      
      
      
        <li class="md-nav__item">
          <a href="#__comments" title="Comments" class="md-nav__link md-nav__link--active">
            Comments
          </a>
        </li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../register/" title="Registering App" class="md-nav__link">
      Registering App
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../container/" title="Containerizing App" class="md-nav__link">
      Containerizing App
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../versioning/" title="Versioning Tips" class="md-nav__link">
      Versioning Tips
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../customhooks/" title="Custom Hooks" class="md-nav__link">
      Custom Hooks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../product/" title="product.json" class="md-nav__link">
      product.json
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Compute Resources
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Compute Resources
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../resources/register/" title="Registering Resource" class="md-nav__link">
      Registering Resource
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Technical
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Technical
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../technical/arthitecture/" title="Architecture" class="md-nav__link">
      Architecture
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../technical/api/" title="APIs" class="md-nav__link">
      APIs
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../contact/" title="Contact" class="md-nav__link">
      Contact
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../privacy/" title="Privacy Policy" class="md-nav__link">
      Privacy Policy
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../releases/" title="Releases" class="md-nav__link">
      Releases
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#main" title="main" class="md-nav__link">
    main
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configjson" title="config.json" class="md-nav__link">
    config.json
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#apppy" title="app.py" class="md-nav__link">
    app.py
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gitignore" title=".gitignore" class="md-nav__link">
    .gitignore
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing" title="Testing" class="md-nav__link">
    Testing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pushing-to-github" title="Pushing to Github" class="md-nav__link">
    Pushing to Github
  </a>
  
</li>
      
      
      
      
      
        <li class="md-nav__item">
          <a href="#__comments" title="Comments" class="md-nav__link md-nav__link--active">
            Comments
          </a>
        </li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/brainlife/docs/edit/master/docs/apps/helloworld.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <div class="admonition note">
<p class="admonition-title">Prerequisites</p>
<p>Please read <a href="/docs/apps/introduction">App Developers / Introduction</a> first. </p>
<p>Before you begin, please install a text editor such as <a href="https://code.visualstudio.com">VSCode</a> and <a href="https://git-scm.com/downloads">git client</a> on your laptop. You will also need to install <a href="https://stedolan.github.io/jq/download/">jq</a> which will be explained later.</p>
</div>
<h1 id="helloworld">HelloWorld<a class="headerlink" href="#helloworld" title="Permanent link">&para;</a></h1>
<p>Here, we will create a "HelloWorld" Brainlife App. </p>
<p>We will show how to create a brand new <a href="https://help.github.com/articles/creating-a-new-repository/">github repository</a> containing a Brainlife App. Please be sure to make the repo public so that the <a href="https://brainlife.io/">brainlife.io</a> platform will be able to access it. You can name the repository as you prefer, the Brainlife Team has beeen naming apps starting with the prefix <code>app-</code>, for example take a look at <a href="https://github.com/search?q=org%3Abrain-life+app-">these Apps</a>.</p>
<p>As a start we will create a HelloWorld App, i.e., <code>app-helloworld</code>, <a href="https://github.com/francopestilli/app-helloworld">here is an example</a>. <a href="https://help.github.com/articles/cloning-a-repository/">Git clone</a> your new repository on your local machine - where you will be developing/editing and testing your App.</p>
<div class="codehilite"><pre><span></span>git clone git@github.com:francopestilli/app-helloworld.git
</pre></div>


<p>or (depending on your www.github.com settings):</p>
<div class="codehilite"><pre><span></span>git clone https://github.com/francopestilli/app-helloworld.git
</pre></div>


<p>Now, cd inside the local directory of the repository and create a file called <code>main</code>. This file contains some information about the UNIX environment (<a href="https://en.wikipedia.org/wiki/Bash_(Unix_shell)">bash-related collands</a>), the procedure to submit jobs in a cluster environment (<a href="https://kb.iu.edu/d/avmy">PBS-related commands</a>), parsing inputs from the config.json file using <code>jq</code> (see <a href="https://stedolan.github.io/jq/">here</a> for more information about <code>jq</code>). For example:</p>
<div class="codehilite"><pre><span></span>touch main
</pre></div>


<h4 id="main">main<a class="headerlink" href="#main" title="Permanent link">&para;</a></h4>
<p>After creating the file <code>main</code> inside your local folder for the github repository app-helloworld, we will edit the content of the file and make it executable. Use your preferred editor and edit the file. Copy the text below insde the edited <code>main</code> file, and save it back to disk.</p>
<div class="codehilite"><pre><span></span><span class="ch">#!/bin/bash</span>

<span class="c1">#PBS -l nodes=1:ppn=1</span>
<span class="c1">#PBS -l walltime=00:05:00</span>

<span class="c1">#parse config.json for input parameters (here, we are pulling &quot;t1&quot;)</span>
<span class="nv">t1</span><span class="o">=</span><span class="k">$(</span>jq -r .t1 config.json<span class="k">)</span>
./app.py <span class="nv">$t1</span>
</pre></div>


<p>Please be sure to set the file <code>main</code> is executable. You can do that by running thee following command in a terminal, before pushing to the github repository.</p>
<div class="codehilite"><pre><span></span>chmod +x main
</pre></div>


<p>Finally, <code>add</code> the file to the git repository and <code>commit</code> to github.com by running thee following:</p>
<p><code>git add main</code></p>
<p><code>git commit -am "Added main file"</code></p>
<p><code>git push</code></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><a href="https://stedolan.github.io/jq/"><code>jq</code></a> is a command line tool used to parse a small JSON file and pull values out of it. You can install it on your machine by running something like <code>apt-get install jq</code> or <code>yum install jq</code> or <code>brew install jq</code> depending on your Operative System (OS) or OS distribution. Also note that thee Brainlife computational resources (Cloud) wheere that App will need to run, will need to have common binaries installed including <code>bash</code>, <code>jq</code>, and <code>singularity</code>. </p>
</div>
<div class="admonition info">
<p class="admonition-title">For Mac Users</p>
<p>You will need to have <a href="https://developer.apple.com/xcode/">the XCODE, Apple Development Tools</a> and <a href="https://brew.sh/">homebrew</a> to install <code>jq</code>. Once Xcode is installed run this command <code>/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"</code> and then this command <code>brew install jq</code> in a terminal.</p>
</div>
<p>The first few lines in our <code>main</code> instructs PBS or Slurm batch systems to request a certain number of nodes/processes to our App. </p>
<div class="codehilite"><pre><span></span><span class="c1">#PBS -l nodes=1:ppn=1</span>
<span class="c1">#PBS -l walltime=00:05:00</span>
</pre></div>


<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You will receive all input parameters from Brainlife through a JSON file named <code>config.json</code> which is created by Brainlife when your App is executed. See <a href="https://github.com/francopestilli/app-helloworld/blob/master/config.json">Example config.json</a>. As an App developer, you will define what parameters needs to be entered by the user and input datasets later when you register your App on Brainlife.</p>
</div>
<p>Following lines parses the <code>config.json</code> using <code>jq</code> and the value of <code>t1</code> to the main part of the application which we will create later.</p>
<div class="codehilite"><pre><span></span><span class="c1">#parse config.json for input parameters</span>
<span class="nv">t1</span><span class="o">=</span><span class="k">$(</span>jq -r .t1 config.json<span class="k">)</span>
./app.py <span class="nv">$t1</span>
</pre></div>


<p>To be able to test your application, let's create a test <code>config.json</code>.</p>
<h4 id="configjson">config.json<a class="headerlink" href="#configjson" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="p">{</span>
   <span class="nt">&quot;t1&quot;</span><span class="p">:</span> <span class="s2">&quot;~/data/t1.nii.gz&quot;</span>
<span class="p">}</span>
</pre></div>


<p>Please update the path to wherever you have your test <code>anat/t1w</code> input file. If you don't have any, you can download one from an the <a href="https://brainlife.io/pub/5a0f0fad2c214c9ba8624376">Open Diffusion Data Derivatives</a> publication page. Just click the Datasets tab, and select any <code>anat/t1w</code> data to download. Then create a directory in your home directory and move the t1w.nii.gz file in there and unpack it: </p>
<p><code>cd ~</code></p>
<p><code>mkdir data</code></p>
<p><code>cp -v /path/to/your/downloaded/5a050966eec2b300611abff2.tar ~/data/</code></p>
<p><code>tar -xvf ~/data/5a050966eec2b300611abff2.tar</code></p>
<p>At this point, <code>~/data/</code> should contain a file named t1w.nii.gz. Next, you should add <code>config.json</code> to <a href="https://help.github.com/articles/ignoring-files/">.gitignore</a> as <code>config.json</code> is created at runtime by Brainlife, and we just need this now to test your app. </p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>A good pattern might be to create a file called <code>config.json.sample</code> used to test your App, and create a symlink <code>ln -s config.json config.json.sample</code> so that you can run your app using <code>config.json.sample</code> without including the actual <code>config.json</code> as part of your repo. This allows other users to construct their own <code>config.json</code> if they want to run your app via command line.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Instead of parsing <code>config.json</code> inside <code>main</code>, you are free to use other parsing library as part of your App itself, such as Python's <code>json</code> module, or Matlab's <a href="https://github.com/fangq/jsonlab.git">jsonlab</a> module.</p>
</div>
<p>Our <code>main</code> script runs a python script called <code>app.py</code> so let's create it and edit it by compying its content as reported below.</p>
<p><code>cd ~/git/app-helloworld</code></p>
<p><code>touch app.py</code></p>
<h4 id="apppy">app.py<a class="headerlink" href="#apppy" title="Permanent link">&para;</a></h4>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="ch">#!/usr/bin/env python</span>

<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">nibabel</span> <span class="kn">as</span> <span class="nn">nib</span>

<span class="c1">#just dump input image header to output.txt</span>
<span class="n">img</span><span class="o">=</span><span class="n">nib</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">f</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="s2">&quot;output.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">header</span><span class="p">))</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</td></tr></table>

<p>Again, be sure to make <code>app.py</code> also executable.</p>
<div class="codehilite"><pre><span></span>chmomd +x app.py
</pre></div>


<p>Finally, <code>add</code> the file to the git repository and <code>commit</code> to github.com by running thee following:</p>
<p><code>git add main</code></p>
<p><code>git commit -am "Added app.py file"</code></p>
<p><code>git push</code></p>
<p>Any output files from your app should be written to the current working directory and in a file structure that complies with whichever the datatype of your dataset is. For now, we are not going to worry about the output datatype (assuming we will use <code>raw</code>)</p>
<p>Please be sure to add any output files from your app to .gitignore so that it won't be part of your git repo. </p>
<h4 id="gitignore">.gitignore<a class="headerlink" href="#gitignore" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span>config.json
output.txt
</pre></div>


<div class="admonition note">
<p class="admonition-title">Note</p>
<p>.gitignore is a text file that instructs git to not track certain files inside your work directory. Please see <a href="https://help.github.com/articles/ignoring-files/">ignoring files</a></p>
</div>
<h2 id="testing">Testing<a class="headerlink" href="#testing" title="Permanent link">&para;</a></h2>
<p>Now, you should be able to test run your app locally by executing <code>main</code></p>
<div class="codehilite"><pre><span></span>./main
</pre></div>


<!--
!!! hint
    If you are testing on HPC clusters, be sure to enter the interactive shell session before running your `main` by executing something like `qsub -I`
-->

<p>Now, it should generate an output file called <code>output.txt</code> containing the dump of all nifti headers.</p>
<div class="codehilite"><pre><span></span>&lt;class &#39;nibabel.nifti1.Nifti1Header&#39;&gt; object, endian=&#39;&lt;&#39;
sizeof_hdr      : 348
data_type       : 
db_name         : 
extents         : 0
session_error   : 0
regular         : r
dim_info        : 0
dim             : [  3 260 311 260   1   1   1   1]
...
...
...
qoffset_x       : 90.0
qoffset_y       : -126.0
qoffset_z       : -72.0
srow_x          : [ -0.69999999   0.           0.          90.        ]
srow_y          : [   0.            0.69999999    0.         -126.        ]
srow_z          : [  0.           0.           0.69999999 -72.        ]
intent_name     : 
magic           : n+1
</pre></div>


<h2 id="pushing-to-github">Pushing to Github<a class="headerlink" href="#pushing-to-github" title="Permanent link">&para;</a></h2>
<p>If everything looks good, push our files to the Github.</p>
<div class="codehilite"><pre><span></span>git add .
git commit -m<span class="s2">&quot;created my first BL App!&quot;</span>
git push
</pre></div>


<p>Congratulations! We have just created our first Brainlife App. To summarize, we've done following.</p>
<ul>
<li>Created a new public Github repo.</li>
<li>Created <code>main</code> which parses <code>config.json</code> and runs our App.</li>
<li>Created a test <code>config.json</code>.</li>
<li>Created <code>app.py</code> which runs our algorithm and generate output files.</li>
<li>Tested the App, and pushed all files to Github.</li>
</ul>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>You can see more concrete examples of Brainlife apps at <a href="https://github.com/search?q=org%3Abrain-life+app-">Brainlife hosted apps</a>.</p>
</div>
<p>To run your App on Brainlife, you will need to do following.</p>
<ol>
<li>
<p><a href="/docs/apps/register/">Register your App on Brainlife.</a></p>
</li>
<li>
<p>Enable your App on at least one Brainlife compute resource. </p>
<p>For now, please email <a href="mailto:brlife@iu.edu">brlife@iu.edu</a> to enable your App on our shared test resource.</p>
</li>
</ol>
<!--
All input parameters are assumed to be text (char). You need to write your functions that are going to be MATLAB compiled with all the arguments as text. Arguments passing a number need to be given as text and within the function converted to integers values (str2num(), etc.). 
-->
                
                  
                
              
              
                


  <h2 id="__comments">Comments</h2>
  <div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = "https://brainlife.github.io/docs/apps/helloworld/";
      this.page.identifier =
        "apps/helloworld/";
    };
    (function() {
      var d = document, s = d.createElement("script");
      s.src = "//brain-life.disqus.com/embed.js";
      s.setAttribute("data-timestamp", +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>

              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../introduction/" title="Introduction" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Introduction
              </span>
            </div>
          </a>
        
        
          <a href="../register/" title="Registering App" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Registering App
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2017 - 2018 Brainlife.io
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/brainlife" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/BrainLifeio" class="md-footer-social__link fa fa-twitter"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.583bbe55.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>